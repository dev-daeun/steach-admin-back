<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SB Admin 2 - Bootstrap Admin Theme</title>

    <!-- Bootstrap Core CSS -->
    <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="../vendor/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../dist/css/sb-admin-2.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <div id="wrapper">

      <!-- Navigation -->
          <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
            <a class="navbar-brand" href="index.html">스티치 기업용 관리자 페이지</a>
          </div>
          <!-- /.navbar-header -->

          <div class="navbar-default sidebar" role="navigation">
            <div class="sidebar-nav navbar-collapse">
              <ul class="nav" id="side-menu">
                <li>
                  <a href="/dashboard">대쉬보드</a>
                </li>
                <li>
                  <a href="#">학생 관리<span class="fa arrow"></span></a>
                  <ul class="nav nav-second-level">
                    <li>
                      <a href="/students/list">학생 목록</a>
                    </li>
                    <li>
                      <a href="/students/registration">신규 학생 등록</a>
                    </li>
                    <li>
                      <a href="/students/retired">퇴원 학생 관리</a>
                    </li>
                  </ul>
                  <!-- /.nav-second-level -->
                </li>
                <li>
                  <a href="/match">매칭 관리</a>
                </li>
                <li>
                  <a href="#">선생님 관리<span class="fa arrow"></span></a>
                  <ul class="nav nav-second-level">
                    <li>
                      <a href="/teacher/list">선생님 목록</a>
                    </li>
                    <li>
                      <a href="/teacher/waitlist">승인대기중 선생님</a>
                    </li>
                  </ul>
                  <!-- /.nav-second-level -->
                </li>
              </ul>
            </div>
            <!-- /.sidebar-collapse -->
          </div>
          <!-- /.navbar-static-side -->
        </nav>

        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">신규 학생 등록</h1>
                </div>
                <!-- /.col-lg-12 -->
            </div>

            <!-- /.row -->
            <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-12">
                                    <!-- <form role="form" method="POST" action="/students/registration"> -->
                                      <div class="form-group col-lg-12">
                                        <h2>학생 기본정보</h2>
                                      </div>
                                        <div class="form-group col-lg-4">
                                            <label>구분</label>
                                            <select id="consult_status"class="form-control">
                                                <option value=3>성공</option>
                                                <option value=2>전화실패</option>
                                                <option value=1>취소</option>
                                                <option value=0>퇴원</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-lg-8">
                                            <label>실패 사유</label>
                                            <input id="fail_reason" class="form-control">
                                        </div>
                                        <div class="form-group col-lg-2">
                                            <label>전화 상담가</label>
                                            <input id="called_consultant"class="form-control">
                                        </div>
                                        <div class="form-group col-lg-2">
                                            <label>방문 상담가</label>
                                            <input id="visited_consultant"class="form-control">
                                        </div>
                                        <div class="form-group col-lg-4">
                                            <label>알게된 경로</label>
                                            <select id="known_path" onchange="openTextbox(this);" class="form-control">
                                                <option value="명함">명함</option>
                                                <option value="소개">소개</option>
                                                <option value="인터넷">인터넷</option>
                                                <option value="아파트 게시판">아파트 게시판</option>
                                                <option value="기타">기타</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-lg-4">
                                            <label style="visibility:hidden">아파트명/기타</label>
                                            <input type="text" class="form-control" name="apartOrEtc" id="apartOrEtc" style="visibility:hidden;"/>
                                        </div> 
                                        <div class="form-group col-lg-4">
                                            <label>이름</label>
                                            <input id="name"class="form-control">
                                        </div>
                                        <div class="form-group col-lg-2">
                                            <label>성별</label>
                                            <div class="form-group">
                                              <label class="radio-inline">
                                                  <input type="radio" name="optionsRadiosInline1" id="gender" value=0 checked>남
                                              </label>
                                              <label class="radio-inline">
                                                  <input type="radio" name="optionsRadiosInline1" id="gender" value=1>여
                                              </label>
                                            </div>
                                        </div>

                                        <div class="form-group col-lg-2">
                                              <label>주소(시/도)</label>
                                                <input type="text" id="address1" class="form-control">
                                        </div>
                                         <div class="form-group col-lg-2">
                                              <label>주소(군/구)</label>
                                                <input type="text" id="address2" class="form-control">
                                        </div>

                                        <div class="form-group col-lg-12">
                                            <label>상세 주소</label>
                                            <input id="address3" class="form-control">
                                        </div>
                                        <div class="form-group col-lg-4">
                                            <label>학교</label>
                                            <input id="school_name" class="form-control">
                                        </div>
                                        <div class="form-group col-lg-2 col-lg-offset-6 col-lg-pull-6">
                                            <label>학년</label>
                                            <select id="grade" class="form-control">
                                                <option>1</option>
                                                <option>2</option>
                                                <option>3</option>
                                                <option>4</option>
                                                <option>5</option>
                                                <option>6</option>
                                            </select>
                                        </div>

                                        <div class="form-group col-lg-4">
                                            <label>학생 연락처</label>
                                            <input id="phone" class="form-control">
                                        </div>
                                        <div class="form-group col-lg-4">
                                            <label>아버지 연락처</label>
                                            <input id="father_phone" class="form-control">
                                        </div>
                                        <div class="form-group col-lg-4">
                                            <label>어머니 연락처</label>
                                            <input id="mother_phone" class="form-control">
                                        </div>
                                        <div class="form-group col-lg-4">
                                            <label>희망과목</label>
                                            <select id="subject" class="form-control">
                                                <option>영어</option>
                                                <option>수학</option>
                                                <option>국어</option>
                                                <option>과학</option>
                                                <option>사회</option>
                                                <option value="기타">기타</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-lg-4">
                                            <label>수업형태</label>
                                            <select id = "class_form" class="form-control">
                                                <option>원내그룹</option>
                                                <option>개인방문</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-lg-4">
                                            <label>차량 지원</label>
                                            <div class="form-group">
                                              <label class="radio-inline">
                                                  <input type="radio" name="optionsRadiosInline2" id="car_provided" value=1 checked>Y
                                              </label>
                                              <label class="radio-inline">
                                                  <input type="radio" name="optionsRadiosInline2" id="car_provided" value=0>N
                                              </label>
                                            </div>
                                        </div>

                                        <div class="form-group col-lg-12">
                                            <label>학생 성향</label>
                                            <input id="student_memo" class="form-control">
                                        </div>

                                        <div class="form-group col-lg-12">
                                          <h2>희망 사항</h2>
                                        </div>

                                        <div class="form-group col-lg-2">
                                            <label>나이대</label>
                                            <select id="teacher_age" class="form-control">
                                                <option>20대</option>
                                                <option>30대</option>
                                                <option>40대</option>
                                                <option>50대</option>
                                                <option>60대</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-lg-2">
                                            <label>성별</label>
                                            <div class="form-group">
                                              <label class="radio-inline">
                                                  <input type="radio" name="optionsRadiosInline3" id="teacher_gender" value=0 checked>남
                                              </label>
                                              <label class="radio-inline">
                                                  <input type="radio" name="optionsRadiosInline3" id="teacher_gender" value=1>여
                                              </label>
                                            </div>
                                        </div>
                                        <div class="form-group col-lg-8">
                                            <label>희망하는 선생님 성향</label>
                                            <input id="teacher_memo" class="form-control">
                                        </div>
                                        <div class="clearfix visible-lg"></div>
                                        <div name="schedules" id="schedules">
                                          <div id="regular_date" class="form-group col-lg-12">
                                            <div class="form-group col-lg-6">
                                                <label>희망 요일</label>
                                                <div class="form-group">
                                                  <label class="radio-inline">
                                                      <input type="radio" name="dayofweek" id="dayofweek" value="option1" checked>일
                                                  </label>
                                                  <label class="radio-inline">
                                                      <input type="radio" name="dayofweek" id="dayofweek" value="option2">월
                                                  </label>
                                                  <label class="radio-inline">
                                                      <input type="radio" name="dayofweek" id="dayofweek" value="option2">화
                                                  </label>
                                                  <label class="radio-inline">
                                                      <input type="radio" name="dayofweek" id="dayofweek" value="option2">수
                                                  </label>
                                                  <label class="radio-inline">
                                                      <input type="radio" name="dayofweek" id="dayofweek" value="option2">목
                                                  </label>
                                                  <label class="radio-inline">
                                                      <input type="radio" name="dayofweek" id="dayofweek" value="option2">금
                                                  </label>
                                                  <label class="radio-inline">
                                                      <input type="radio" name="dayofweek" id="dayofweek" value="option2">토
                                                  </label>
                                                </div>
                                            </div>
                                            <div class="form-group col-lg-6">
                                                  <label>희망 시간</label>
                                                  <div class="form-inline">
                                                    <select class="form-control">
                                                        <option>12</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                        <option>6</option>
                                                    </select>
                                                    <label>시</label>
                                                    <select class="form-control">
                                                        <option>30</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                        <option>6</option>
                                                    </select>
                                                    <label>분</label>
                                                    <label>~</label>
                                                    <select class="form-control">
                                                        <option>12</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                        <option>6</option>
                                                    </select>
                                                    <label>시</label>
                                                    <select class="form-control">
                                                        <option>12</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                        <option>6</option>
                                                    </select>
                                                    <label>분</label>
                                                  </div>

                                            </div>
                                          </div>
                                        </div>
                                        <div class="form-group col-lg-4 col-lg-offset-8 col-lg-pull-8">
                                            <input type=button id ='scheduleAddBtn' value="희망 수업일 추가"/>
                                        </div>
                                        <div class="form-group col-lg-4 col-lg-offset-8 col-lg-pull-8">
                                            <label>첫 수업 희망일</label>
                                            <input type="date" id="first_date" class="form-control">
                                        </div>

                                        <div class="form-group col-lg-4">
                                            <label>희망 교재</label>
                                            <input id="book" class="form-control">
                                        </div>
                                        <div class="form-group col-lg-4">
                                            <label>수강료</label>
                                            <input id="fee" class="form-control">
                                        </div>
                                        <div class="form-group col-lg-4">
                                            <label>강의료</label>
                                            <input id="teacher_fee" class="form-control">
                                        </div>
                                        <div class="form-group col-lg-12">
                                          <h2>과거 기록</h2>
                                        </div>
                                        <div class="form-group col-lg-2 col-lg-offset-10 col-lg-pull-10">
                                            <label>현재등급</label>
                                            <select id="current_score" class="form-control">
                                                <option>1</option>
                                                <option>2</option>
                                                <option>3</option>
                                                <option>5</option>
                                                <option>5</option>
                                                <option>6</option>
                                                <option>7</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-lg-4 col-lg-offset-8 col-lg-pull-8">
                                            <label>수강했던 프로그램</label>
                                            <select id="program" class="form-control">
                                                <option value="학원">학원</option>
                                                <option value="과외">과외</option>
                                                <option value="인강">인강</option>
                                                <option value="독학">독학</option>
                                                <option value="기타">기타</option>
                                            </select>
                                        </div>
                                        <div class="form-group col-lg-6">
                                            <label>기간</label>
                                          <div class="form-inline">
                                            <input type="date" id="start_term" class="form-control">
                                                <label style="text-align:center;width:auto;">~</label>
                                            <input type="date" id="end_term" class="form-control">
                                          </div>

                                        </div>

                                        <div class="form-group col-lg-6">
                                              <label>교재</label>
                                              <input id="used_book" class="form-control">
                                        </div>
                                        <div class="form-group col-lg-12">
                                              <label>좋았던 점</label>
                                              <textarea id="pros" class="form-control"></textarea>
                                        </div>
                                        <div class="form-group col-lg-12">
                                              <label>아쉬웠던 점</label>
                                              <textarea id="cons" class="form-control"></textarea>
                                        </div>
                                        <div class="form-group col-lg-12">
                                              <button type="submit" id="registerButton" class="center-block">등록</button>
                                        </div>
                                    <!-- </form> -->
                                </div>
                                <!-- /.col-lg-6 (nested) -->
                            </div>
                            <!-- /.row (nested) -->
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->


        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->


    <script type="text/javascript">
        var content = [
            {}
        ]
        function openTextbox(selection){
            var element = document.getElementById('apartOrEtc');
            if(selection.value=="아파트 게시판"){
                element.style.visibility = 'visible';
                element.placeholder = "아파트 이름";
            }
            else if(selection.value=="기타"){
                element.style.visibility = 'visible';
                element.placeholder = "기타";
            }
            else element.style.visibility = 'hidden';
        }

    </script>
    <!-- jQuery -->
    <script src="../vendor/jquery/jquery.min.js"></script>
    <script>
     $("#registerButton").click(function() {
        if(window.confirm('정말 등록하시겠습니까?')) {
          $.ajax({ 
           url: '/students/registration', 
           processData: false,
           type: 'POST',
           cache: false, 
           contentType: 'application/json; charset=utf-8',
           dataType: 'json',
           data: JSON.stringify({
               expectation: { 
                    book: $("#book").val(),
                    consult_status : $("#consult_status").val(),
                    fail_reason: $("#fail_reason").val(),
                    called_consultant: $("#called_consultant").val(),
                    visited_consultant: $("#visited_consultant").val(),
                    known_path: $("#known_path").val(),
                    etc: $("#apartOrEtc").val(),
                    teacher_age: $("#teacher_age").val(),
                    teacher_gender: $("#teacher_gender").val(),
                    subject: $("#subject").val(),
                    car_provided: $("#car_provided").val(),
                    class_form: $("#class_form").val(),
                    fee: $("#fee").val(),
                    teacher_fee: $("#fee").val(),
                    teacher_memo: $("#teacher_memo").val(),
                    student_memo: $("#student_memo").val(),
                    first_date: $("#first_date").val(),
                    regular_date: $("#regular_date").length,
               },
               student: {
                   name: $("#name").val(),
                   gender: $("#gender").val(),
                   address1: $("#address1").val(),
                   address2: $("#address2").val(),
                   address3: $("address3").val(),
                   school_name: $("#school_name").val(),
                   grade: $("#grade").val(),
                   phone: $("#phone").val(),
                   father_phone: $("#father_phone").val(),
                   mother_phone: $("#mother_phone").val(),
               },
                student_log: {
                    current_score: $("#current_score").val(),
                    program: $("#program").val(),
                    start_term: $("#start_term").val(),
                    end_term: $("#end_term").val(),
                    pros: $("#pros").val(),
                    cons: $("#cons").val(),
                    used_book: $("#used_book").val()
                }
            }),
           success: function(data){
             window.location.href = '/students/list';
           }
          });
        }
        else return;
    });
      $(function() {
        //html함수 적용하여 htmltest태그내의 html 변경
        $("#scheduleAddBtn").click(function() {
          var len = $("#schedules").children().length;
          var tag = '<div class="form-group col-lg-12"> <div class="form-group col-lg-6"> <label>희망 요일</label> <div class="form-group"> <label class="radio-inline"> <input type="radio" name="dayofweek' + len + '" id="dayofweek" value="option1" checked>일 </label> <label class="radio-inline"> <input type="radio" name="dayofweek' + len + '" id="dayofweek" value="option2">월 </label> <label class="radio-inline"> <input type="radio" name="dayofweek' + len + '" id="dayofweek" value="option2">화 </label> <label class="radio-inline"> <input type="radio" name="dayofweek' + len + '" id="dayofweek" value="option2">수 </label> <label class="radio-inline"> <input type="radio" name="dayofweek' + len + '" id="dayofweek" value="option2">목 </label> <label class="radio-inline"> <input type="radio" name="dayofweek' + len + '" id="dayofweek" value="option2">금 </label> <label class="radio-inline"> <input type="radio" name="dayofweek' + len + '" id="dayofweek" value="option2">토 </label> </div> </div> <div class="form-group col-lg-6"> <label>희망 시간</label> <div class="form-inline"> <select class="form-control"> <option>12</option> <option>2</option> <option>3</option> <option>4</option> <option>5</option> <option>6</option> </select> <label>시</label> <select class="form-control"> <option>30</option> <option>2</option> <option>3</option> <option>4</option> <option>5</option> <option>6</option> </select> <label>분</label> <label>~</label> <select class="form-control"> <option>12</option> <option>2</option> <option>3</option> <option>4</option> <option>5</option> <option>6</option> </select> <label>시</label> <select class="form-control"> <option>12</option> <option>2</option> <option>3</option> <option>4</option> <option>5</option> <option>6</option> </select> <label>분</label> </div> </div> </div>';
          $("#schedules").append(tag);
        });
      })
    </script>
    <!-- Bootstrap Core JavaScript -->
    <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="../vendor/metisMenu/metisMenu.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="../dist/js/sb-admin-2.js"></script>

</body>

</html>
